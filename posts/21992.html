<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Numpy 学习 - MCFON</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="MCFON"><meta name="msapplication-TileImage" content="/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="MCFON"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Python模块中的numpy，这是一个处理数组的强大模块，而该模块也是其他数据分析模块（如pandas和scipy）的核心。下面将从这5个方面来介绍numpu模块的内容："><meta property="og:type" content="blog"><meta property="og:title" content="Numpy 学习"><meta property="og:url" content="https://hunlp.com/posts/21992.html"><meta property="og:site_name" content="MCFON"><meta property="og:description" content="Python模块中的numpy，这是一个处理数组的强大模块，而该模块也是其他数据分析模块（如pandas和scipy）的核心。下面将从这5个方面来介绍numpu模块的内容："><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9Fsug02YAxI2vUgquFG71OO6RZYCNoaiaHOMwRAbkOSLdic15aaaTqhKzQ/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1"><meta property="og:image" content="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9FwvwtdAekD30cx5dWkf3J9PaVVNaAogGpoAOyREnZcVCFTLTL43Bskw/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1"><meta property="og:image" content="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9Frp8BIXlMvXMvOR5nPHcicuzrRfSicPBicbApwriaUpD7NFnmy0oTlqrvgg/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1"><meta property="og:image" content="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9Frp8BIXlMvXMvOR5nPHcicuzrRfSicPBicbApwriaUpD7NFnmy0oTlqrvgg/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1"><meta property="article:published_time" content="2017-06-28T17:35:34.000Z"><meta property="article:modified_time" content="2021-06-08T12:45:54.650Z"><meta property="article:author" content="ฅ´ω`ฅ"><meta property="article:tag" content="笔记"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9Fsug02YAxI2vUgquFG71OO6RZYCNoaiaHOMwRAbkOSLdic15aaaTqhKzQ/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hunlp.com/posts/21992.html"},"headline":"Numpy 学习","image":[],"datePublished":"2017-06-28T17:35:34.000Z","dateModified":"2021-06-08T12:45:54.650Z","author":{"@type":"Person","name":"ฅ´ω`ฅ"},"publisher":{"@type":"Organization","name":"MCFON","logo":{"@type":"ImageObject","url":"https://hunlp.com/img/logo.png"}},"description":"Python模块中的numpy，这是一个处理数组的强大模块，而该模块也是其他数据分析模块（如pandas和scipy）的核心。下面将从这5个方面来介绍numpu模块的内容："}</script><link rel="canonical" href="https://hunlp.com/posts/21992.html"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?b99420d7a06d2b3361a8efeaf6e20764";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-131608076-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-131608076-1');</script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="MCFON" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a><a class="navbar-item" href="/friend">友链</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><i class="fas fa-angle-double-right"></i>Numpy 学习</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="${date_xml(page.date)}" title="${date_xml(page.date)}">2017-06-29</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time dateTime="${date_xml(page.updated)}" title="${date_xml(page.updated)}">2021-06-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a></span><span class="level-item">19 分钟读完 (大约2782个字)</span></div></div><div class="content"><p>Python模块中的numpy，这是一个处理数组的强大模块，而该模块也是其他数据分析模块（如pandas和scipy）的核心。下面将从这5个方面来介绍numpu模块的内容： <span id="more"></span> 1. 数组的创建 2. 有关数组的属性和函数 3. 数组元素的获取--普通索引、切片、布尔索引和花式索引 4. 统计函数与线性代数运算 5. 随机数的生成</p>
<h2 id="数组的创建">数组的创建</h2>
<h3 id="一维数组的创建">一维数组的创建</h3>
<p>可以使用numpy中的arange()函数创建一维有序数组，它是内置函数range的扩展版。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">In [<span class="number">2</span>]: ls1 = <span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">In [<span class="number">3</span>]: <span class="built_in">list</span>(ls1)</span><br><span class="line">Out[<span class="number">3</span>]: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">In [<span class="number">4</span>]: <span class="built_in">type</span>(ls1)</span><br><span class="line">Out[<span class="number">4</span>]: <span class="built_in">range</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">5</span>]: ls2 = np.arange(<span class="number">10</span>)</span><br><span class="line">In [<span class="number">6</span>]: <span class="built_in">list</span>(ls2)</span><br><span class="line">Out[<span class="number">6</span>]: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">In [<span class="number">7</span>]: <span class="built_in">type</span>(ls2)</span><br><span class="line">Out[<span class="number">7</span>]: numpy.ndarray</span><br></pre></td></tr></table></figure>
<p>通过arange生成的序列就不是简简单单的列表类型了，而是一个一维数组。</p>
<p>如果一维数组不是一个规律的有序元素，而是人为的输入，就需要array()函数创建了。numpy中<strong>使用array()函数创建数组,array的首个参数一定是一个序列，可以是元组也可以是列表</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">8</span>]: arr1 = np.array((<span class="number">1</span>,<span class="number">20</span>,<span class="number">13</span>,<span class="number">28</span>,<span class="number">22</span>))</span><br><span class="line">In [<span class="number">9</span>]: arr1</span><br><span class="line">Out[<span class="number">9</span>]: array([ <span class="number">1</span>, <span class="number">20</span>, <span class="number">13</span>, <span class="number">28</span>, <span class="number">22</span>])</span><br><span class="line">In [<span class="number">10</span>]: <span class="built_in">type</span>(arr1)</span><br><span class="line">Out[<span class="number">10</span>]: numpy.ndarray</span><br></pre></td></tr></table></figure>
<p>上面是由元组序列构成的一维数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">11</span>]: arr2 = np.array([<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">21</span>])</span><br><span class="line">In [<span class="number">12</span>]: arr2</span><br><span class="line">Out[<span class="number">12</span>]: array([ <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">5</span>,  <span class="number">8</span>, <span class="number">13</span>, <span class="number">21</span>])</span><br><span class="line">In [<span class="number">13</span>]: <span class="built_in">type</span>(arr2)</span><br><span class="line">Out[<span class="number">13</span>]: numpy.ndarray</span><br></pre></td></tr></table></figure>
<p>上面是由列表序列构成的一维数组。</p>
<h3 id="二维数组的创建">二维数组的创建</h3>
<p>二维数组的创建，其实在就是<strong>列表套列表或元组套元组</strong> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">14</span>]: arr3 = np.array(((<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">5</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">21</span>),(<span class="number">34</span>,<span class="number">55</span>,<span class="number">89</span>,<span class="number">144</span>)))</span><br><span class="line">In [<span class="number">15</span>]: arr3</span><br><span class="line">Out[<span class="number">15</span>]:</span><br><span class="line">array([[  <span class="number">1</span>,   <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>]])</span><br></pre></td></tr></table></figure></p>
<p>上面是使用元组套元组的方式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">16</span>]: arr4 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]])</span><br><span class="line">In [<span class="number">17</span>]: arr4</span><br><span class="line">Out[<span class="number">17</span>]:</span><br><span class="line">array([[ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],</span><br><span class="line">[ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[ <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]])</span><br></pre></td></tr></table></figure>
<p>上面是使用列表套列表的方式。</p>
<p>对于高维数组在将来的数据分析中用的比较少，这里关于高维数组的创建就不赘述了，构建方法仍然是使用嵌套的方式。</p>
<p>上面所介绍的都是人为设定的一维、二维或高维数组，numpy中也提供了几种特殊的数组，它们是：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">18</span>]: np.ones(<span class="number">3</span>)  <span class="comment">#返回一维元素全为1的数组</span></span><br><span class="line">Out[<span class="number">18</span>]: array([ <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">19</span>]: np.ones([<span class="number">3</span>,<span class="number">4</span>])  <span class="comment">#返回元素全为1的3×4二维数组</span></span><br><span class="line">Out[<span class="number">19</span>]:</span><br><span class="line">array([[ <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>],</span><br><span class="line">[ <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>],</span><br><span class="line">[ <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">20</span>]: np.zeros(<span class="number">3</span>) <span class="comment">#返回一维元素全为0的数组</span></span><br><span class="line">Out[<span class="number">20</span>]: array([ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">21</span>]: np.zeros([<span class="number">3</span>,<span class="number">4</span>]) <span class="comment">#返回元素全为0的3×4二维数组</span></span><br><span class="line">Out[<span class="number">21</span>]:</span><br><span class="line">array([[ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>],</span><br><span class="line">[ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>],</span><br><span class="line">[ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">22</span>]: np.empty(<span class="number">3</span>) <span class="comment">#返回一维空数组</span></span><br><span class="line">Out[<span class="number">22</span>]: array([  <span class="number">1.13224202e+277</span>,   <span class="number">6.00769955e-307</span>,   <span class="number">2.55195390e-303</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">23</span>]: np.empty([<span class="number">3</span>,<span class="number">4</span>]) <span class="comment">#返回3×4二维空数组</span></span><br><span class="line">Out[<span class="number">23</span>]:</span><br><span class="line">array([[  <span class="number">1.09494983e-311</span>,   <span class="number">8.19904309e-314</span>,   <span class="number">1.09678092e-311</span>,   <span class="number">1.09494983e-311</span>],</span><br><span class="line">       [  <span class="number">2.09290548e-313</span>,   <span class="number">1.09678288e-311</span>,   <span class="number">1.09494983e-311</span>,   <span class="number">3.36629926e-313</span>],</span><br><span class="line">       [  <span class="number">1.09678538e-311</span>,   <span class="number">4.03179200e-313</span>,   <span class="number">1.09678287e-311</span>,   <span class="number">1.09494983e-311</span>]])</span><br></pre></td></tr></table></figure>
<p>原文中对于<code>np.empty</code>的举例不够严谨，这个函数返回的是指定规模未经初始化的数组，速度要比 <code>ones</code> 和 <code>zeros</code> 快，但里面的值都是随机的，要谨慎使用。</p>
<h2 id="有关数组的属性和函数">有关数组的属性和函数</h2>
<p>当一个数组构建好后，我们看看关于数组本身的操作又有哪些属性和函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">24</span>]: arr3</span><br><span class="line">Out[<span class="number">24</span>]:</span><br><span class="line">array([[  <span class="number">1</span>,   <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">25</span>]: arr3.shape  <span class="comment">#shape方法返回数组的行数和列数</span></span><br><span class="line">Out[<span class="number">25</span>]: (<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">26</span>]: arr3.dtype  <span class="comment">#dtype方法返回数组的数据类型</span></span><br><span class="line">Out[<span class="number">26</span>]: dtype(<span class="string">&#x27;int32&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">27</span>]: a = arr3.ravel()    <span class="comment">#通过ravel的方法将数组拉直（多维数组降为一维数组）</span></span><br><span class="line">In [<span class="number">28</span>]: a</span><br><span class="line">Out[<span class="number">28</span>]: array([  <span class="number">1</span>,   <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>,   <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>,  <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">29</span>]: b = arr3.flatten()  <span class="comment">#通过flatten的方法将数组拉直</span></span><br><span class="line">In [<span class="number">30</span>]: b</span><br><span class="line">Out[<span class="number">30</span>]: array([  <span class="number">1</span>,   <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>,   <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>,  <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>])</span><br></pre></td></tr></table></figure>
<p>两者的区别在于<strong>ravel方法生成的是原数组的视图，无需占有内存空间，但视图的改变会影响到原数组的变化。而flatten方法返回的是真实值，其值的改变并不会影响原数组的更改</strong>。</p>
<p>通过下面的例子也许就能明白了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">31</span>]: b[:<span class="number">3</span>] = <span class="number">0</span></span><br><span class="line">In [<span class="number">32</span>]: arr3</span><br><span class="line">Out[<span class="number">32</span>]:</span><br><span class="line">array([[  <span class="number">1</span>,   <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>]])</span><br></pre></td></tr></table></figure>
<p>通过更改b的值，原数组没有变化。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">33</span>]: a[:<span class="number">3</span>] = <span class="number">0</span></span><br><span class="line">In [<span class="number">34</span>]: arr3</span><br><span class="line">Out[<span class="number">34</span>]:</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>]])</span><br></pre></td></tr></table></figure>
<p>a的值变化后，会导致原数组跟着变化。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">35</span>]: arr4</span><br><span class="line">Out[<span class="number">35</span>]:</span><br><span class="line">array([[ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],</span><br><span class="line">[ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[ <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">36</span>]: arr4.ndim   <span class="comment">#返回数组的维数(嵌套的层数)</span></span><br><span class="line">Out[<span class="number">36</span>]: <span class="number">2</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">37</span>]: arr4.size   <span class="comment">#返回数组元素的个数</span></span><br><span class="line">Out[<span class="number">37</span>]: <span class="number">12</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">38</span>]: arr4.T  <span class="comment">#返回数组的转置结果</span></span><br><span class="line">Out[<span class="number">38</span>]:</span><br><span class="line">array([[ <span class="number">1</span>,  <span class="number">5</span>,  <span class="number">9</span>],</span><br><span class="line">[ <span class="number">2</span>,  <span class="number">6</span>, <span class="number">10</span>],</span><br><span class="line">[ <span class="number">3</span>,  <span class="number">7</span>, <span class="number">11</span>],</span><br><span class="line">[ <span class="number">4</span>,  <span class="number">8</span>, <span class="number">12</span>]])</span><br></pre></td></tr></table></figure>
<p><strong>如果数组的数据类型为复数</strong>的话，real方法可以返回复数的实部，imag方法返回复数的虚部。</p>
<p>介绍完数组的一些<strong>方法</strong>后，接下来我们看看数组自身有哪些<strong>函数</strong>可操作：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">39</span>]: <span class="built_in">len</span>(arr4) <span class="comment">#返回数组有多少行</span></span><br><span class="line">Out[<span class="number">39</span>]: <span class="number">3</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]: arr3</span><br><span class="line">Out[<span class="number">40</span>]:</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: arr4</span><br><span class="line">Out[<span class="number">41</span>]:</span><br><span class="line">array([[ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],</span><br><span class="line">[ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[ <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">42</span>]: np.hstack((arr3,arr4))</span><br><span class="line">Out[<span class="number">42</span>]:</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>,   <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>,   <span class="number">4</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>,   <span class="number">5</span>,   <span class="number">6</span>,   <span class="number">7</span>,   <span class="number">8</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>,   <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>,  <span class="number">12</span>]])</span><br></pre></td></tr></table></figure>
<p><strong>横向拼接</strong>arr3和arr4两个数组，但必须满足两个数组的<strong>行数相同</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">43</span>]: np.vstack((arr3,arr4))</span><br><span class="line">Out[<span class="number">43</span>]:</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>],</span><br><span class="line">[  <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>,   <span class="number">4</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">6</span>,   <span class="number">7</span>,   <span class="number">8</span>],</span><br><span class="line">[  <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>,  <span class="number">12</span>]])</span><br></pre></td></tr></table></figure>
<p><strong>纵向拼接</strong>arr3和arr4两个数组，但必须满足两个数组的<strong>列数相同</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">44</span>]: np.column_stack((arr3,arr4))    <span class="comment">#与hstack函数具有一样的效果</span></span><br><span class="line">Out[<span class="number">44</span>]:</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>,   <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>,   <span class="number">4</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>,   <span class="number">5</span>,   <span class="number">6</span>,   <span class="number">7</span>,   <span class="number">8</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>,   <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>,  <span class="number">12</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">45</span>]: np.row_stack((arr3,arr4))    <span class="comment">#与vstack函数具有一样的效果</span></span><br><span class="line">Out[<span class="number">45</span>]:</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">8</span>,  <span class="number">13</span>,  <span class="number">21</span>],</span><br><span class="line">[ <span class="number">34</span>,  <span class="number">55</span>,  <span class="number">89</span>, <span class="number">144</span>],</span><br><span class="line">[  <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>,   <span class="number">4</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">6</span>,   <span class="number">7</span>,   <span class="number">8</span>],</span><br><span class="line">[  <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>,  <span class="number">12</span>]])</span><br></pre></td></tr></table></figure>
<p>reshape()函数和resize()函数可以重新设置数组的行数和列数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">46</span>]: arr5 = np.arange(<span class="number">24</span>)</span><br><span class="line">In [<span class="number">47</span>]: arr5    <span class="comment">#此为一维数组</span></span><br><span class="line">Out[<span class="number">47</span>]:</span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">48</span>]: a = arr5.reshape(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line">In [<span class="number">49</span>]: a</span><br><span class="line">Out[<span class="number">49</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],</span><br><span class="line">[ <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>],</span><br><span class="line">[<span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]])</span><br></pre></td></tr></table></figure>
<p>通过reshape函数将一维数组设置为二维数组，且为4行6列的数组。<strong>reshape函数不会改变原数组</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">50</span>]: a.resize(<span class="number">6</span>,<span class="number">4</span>)</span><br><span class="line">In [<span class="number">51</span>]: a</span><br><span class="line">Out[<span class="number">51</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">[ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">[<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">[<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]])</span><br></pre></td></tr></table></figure>
<p>通过<strong>resize函数会直接改变原数组的形状</strong>。</p>
<p>数组转换：tolist将数组转换为列表，astype()强制转换数组的数据类型，下面是两个函数的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">53</span>]: b = a.tolist()</span><br><span class="line">In [<span class="number">54</span>]: b</span><br><span class="line">Out[<span class="number">54</span>]:</span><br><span class="line">[[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>],</span><br><span class="line">[<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">[<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">[<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]</span><br><span class="line">In [<span class="number">55</span>]: <span class="built_in">type</span>(b)</span><br><span class="line">Out[<span class="number">55</span>]: <span class="built_in">list</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">56</span>]: c = a.astype(<span class="built_in">float</span>)</span><br><span class="line">In [<span class="number">57</span>]: c</span><br><span class="line">Out[<span class="number">57</span>]:</span><br><span class="line">array([[  <span class="number">0.</span>,   <span class="number">1.</span>,   <span class="number">2.</span>,   <span class="number">3.</span>],</span><br><span class="line">[  <span class="number">4.</span>,   <span class="number">5.</span>,   <span class="number">6.</span>,   <span class="number">7.</span>],</span><br><span class="line">[  <span class="number">8.</span>,   <span class="number">9.</span>,  <span class="number">10.</span>,  <span class="number">11.</span>],</span><br><span class="line">[ <span class="number">12.</span>,  <span class="number">13.</span>,  <span class="number">14.</span>,  <span class="number">15.</span>],</span><br><span class="line">[ <span class="number">16.</span>,  <span class="number">17.</span>,  <span class="number">18.</span>,  <span class="number">19.</span>],</span><br><span class="line">[ <span class="number">20.</span>,  <span class="number">21.</span>,  <span class="number">22.</span>,  <span class="number">23.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">58</span>]: a.dtype</span><br><span class="line">Out[<span class="number">58</span>]: dtype(<span class="string">&#x27;int32&#x27;</span>)</span><br><span class="line">In [<span class="number">59</span>]: c.dtype</span><br><span class="line">Out[<span class="number">59</span>]: dtype(<span class="string">&#x27;float64&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="数组元素的获取">数组元素的获取</h2>
<p>通过索引和切片的方式获取数组元素，一维数组元素的获取与列表、元组的获取方式一样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">60</span>]: arr7 = np.arange(<span class="number">10</span>)</span><br><span class="line">In [<span class="number">61</span>]: arr7</span><br><span class="line">Out[<span class="number">61</span>]: array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line">In [<span class="number">62</span>]: arr7[<span class="number">3</span>]     <span class="comment">#获取第4个元素</span></span><br><span class="line">Out[<span class="number">62</span>]: <span class="number">3</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">63</span>]: arr7[:<span class="number">3</span>]    <span class="comment">#获取前3个元素</span></span><br><span class="line">Out[<span class="number">63</span>]: array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">64</span>]: arr7[<span class="number">3</span>:]    <span class="comment">#获取第4个元素即之后的所有元素</span></span><br><span class="line">Out[<span class="number">64</span>]: array([<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">65</span>]: arr7[-<span class="number">2</span>:]   <span class="comment">#获取末尾的2个元素</span></span><br><span class="line">Out[<span class="number">65</span>]: array([<span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">66</span>]: arr7[::<span class="number">2</span>]   <span class="comment">#从第1个元素开始，获取步长为2的所有元素</span></span><br><span class="line">Out[<span class="number">66</span>]: array([<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>])</span><br></pre></td></tr></table></figure>
<p>补充一下，如果要获取多个元素，且它们的索引没有固定步长这样的规则的话，可以<strong>传入一个list作为索引</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[[<span class="number">0</span>,<span class="number">3</span>,<span class="number">4</span>]]      <span class="comment">#返回数组的第1，4，5个元素</span></span><br><span class="line">array([<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<p>二维数组元素的获取：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">67</span>]: arr8 = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">In [<span class="number">68</span>]: arr8</span><br><span class="line">Out[<span class="number">68</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">[ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">69</span>]: arr8[<span class="number">1</span>]     <span class="comment">#返回数组的第2行</span></span><br><span class="line">Out[<span class="number">69</span>]: array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">70</span>]: arr8[:<span class="number">2</span>]    <span class="comment">#返回数组的前2行</span></span><br><span class="line">Out[<span class="number">70</span>]:</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">71</span>]: arr8[[<span class="number">0</span>,<span class="number">2</span>]]     <span class="comment">#返回指定的第1行和第3行</span></span><br><span class="line">Out[<span class="number">71</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">[ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">72</span>]: arr8[:,<span class="number">0</span>]  <span class="comment">#返回数组的第1列</span></span><br><span class="line">Out[<span class="number">72</span>]: array([<span class="number">0</span>, <span class="number">4</span>, <span class="number">8</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">73</span>]: arr8[:,-<span class="number">2</span>:]    <span class="comment">#返回数组的后2列</span></span><br><span class="line">Out[<span class="number">73</span>]:</span><br><span class="line">array([[ <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">[ <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">[<span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">74</span>]: arr8[:,[<span class="number">0</span>,<span class="number">2</span>]]   <span class="comment">#返回数组的第1列和第3列</span></span><br><span class="line">Out[<span class="number">74</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">[ <span class="number">4</span>,  <span class="number">6</span>],</span><br><span class="line">[ <span class="number">8</span>, <span class="number">10</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">75</span>]: arr8[<span class="number">1</span>,<span class="number">2</span>]   <span class="comment">#返回数组中第2行第3列对应的元素</span></span><br><span class="line">Out[<span class="number">75</span>]: <span class="number">6</span></span><br></pre></td></tr></table></figure>
<p><strong>布尔索引，即索引值为True和False，需要注意的是布尔索引必须是数组对象。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">76</span>]: log = np.array([<span class="literal">True</span>,<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">True</span>,<span class="literal">True</span>,<span class="literal">False</span>])</span><br><span class="line">In [<span class="number">77</span>]: arr9 = np.arange(<span class="number">24</span>).reshape(<span class="number">6</span>,<span class="number">4</span>)</span><br><span class="line">In [<span class="number">78</span>]: arr9</span><br><span class="line">Out[<span class="number">78</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">[ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">[<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">[<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">79</span>]: arr9[log]   <span class="comment">#返回所有为True的对应行</span></span><br><span class="line">Out[<span class="number">79</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">[<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">80</span>]: arr9[-log]  <span class="comment">#通过负号筛选出所有为False的对应行</span></span><br><span class="line">Out[<span class="number">80</span>]:</span><br><span class="line">array([[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">[ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],</span><br><span class="line">[<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]])</span><br></pre></td></tr></table></figure>
<p>举一个场景，一维数组表示区域，二维数组表示观测值，如何选取目标区域的观测？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">81</span>]: area = np.array([<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;D&#x27;</span>])</span><br><span class="line">In [<span class="number">82</span>]: area</span><br><span class="line">Out[<span class="number">82</span>]:</span><br><span class="line">array([<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;D&#x27;</span>],</span><br><span class="line">dtype=<span class="string">&#x27;&lt;U1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">83</span>]: observes = np.arange(<span class="number">21</span>).reshape(<span class="number">7</span>,<span class="number">3</span>)</span><br><span class="line">In [<span class="number">84</span>]: observes</span><br><span class="line">Out[<span class="number">84</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],</span><br><span class="line">[ <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],</span><br><span class="line">[ <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[ <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>],</span><br><span class="line">[<span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>],</span><br><span class="line">[<span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">85</span>]: observes[area == <span class="string">&#x27;A&#x27;</span>]     <span class="comment">#这里[]内的&quot;area == &#x27;A&#x27;&quot;语句返回的就是一个全是布尔值的数组对象</span></span><br><span class="line">Out[<span class="number">85</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],</span><br><span class="line">[ <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]])</span><br></pre></td></tr></table></figure>
<p>返回所有A区域的观测。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">86</span>]: observes[(area == <span class="string">&#x27;A&#x27;</span>) | (area == <span class="string">&#x27;D&#x27;</span>)] <span class="comment">#条件值需要在&amp;(and),|(or)两端用圆括号括起来</span></span><br><span class="line">Out[<span class="number">86</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],</span><br><span class="line">[ <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>],</span><br><span class="line">[<span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>]])</span><br></pre></td></tr></table></figure>
<p>返回所有A区域和D区域的观测。</p>
<p>当然，布尔索引也可以与普通索引或切片混合使用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">87</span>]: observes[area == <span class="string">&#x27;A&#x27;</span>][:,[<span class="number">0</span>,<span class="number">2</span>]]</span><br><span class="line">Out[<span class="number">87</span>]:</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">[ <span class="number">6</span>,  <span class="number">8</span>],</span><br><span class="line">[<span class="number">12</span>, <span class="number">14</span>]])</span><br></pre></td></tr></table></figure>
<p>返回A区域的所有行，且只获取第1列与第3列数据。</p>
<p><strong>花式索引：实际上就是将数组作为索引将原数组的元素提取出来</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">88</span>]: arr10 = np.arange(<span class="number">1</span>,<span class="number">29</span>).reshape(<span class="number">7</span>,<span class="number">4</span>)</span><br><span class="line">In [<span class="number">89</span>]: arr10</span><br><span class="line">Out[<span class="number">89</span>]:</span><br><span class="line">array([[ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],</span><br><span class="line">[ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[ <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>],</span><br><span class="line">[<span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>],</span><br><span class="line">[<span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>],</span><br><span class="line">[<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>],</span><br><span class="line">[<span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">90</span>]: arr10[[<span class="number">4</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]]  <span class="comment">#按照指定顺序返回指定行</span></span><br><span class="line">Out[<span class="number">90</span>]:</span><br><span class="line">array([[<span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>],</span><br><span class="line">[ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[<span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>],</span><br><span class="line">[<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">91</span>]: arr10[[<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>]][:,[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>]] <span class="comment">#返回指定的行与列，可以分解为两条命令来看</span></span><br><span class="line">Out[<span class="number">91</span>]:</span><br><span class="line">array([[<span class="number">17</span>, <span class="number">19</span>, <span class="number">20</span>],</span><br><span class="line">[ <span class="number">5</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[<span class="number">21</span>, <span class="number">23</span>, <span class="number">24</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">92</span>]: arr10[[<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>],[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>]] <span class="comment"># 返回指定位置的数字</span></span><br><span class="line">Out[<span class="number">92</span>]: array([<span class="number">17</span>,  <span class="number">7</span>, <span class="number">24</span>])</span><br></pre></td></tr></table></figure>
<p>请注意！这与上面的返回结果是截然不同的，上面的命令返回的是二维数组，而这条命令返回的是一维数组。P.S.原文这里没有解释的很清楚，简单来说，如果<strong>在方括号内使用两个甚至多个数组/列表作为索引，中间以逗号分割</strong>，那么数组的顺序对应的就是从低维到高维，比如 <code>In [92]</code> 中第一个列表的第一个元素是4，第二个列表的第一个元素是0，这就表示要从arr10这个二维数组中取出的第一个元素在第一维第5个对象和第二维第1个对象交叠的地方，也即二维数组的第5行第1个元素17。最后会将所有取出的元素放入一个一维数组中返回。但如果某一维没有用数组/列表指定，而是使用了冒号表示取所有的话，返回的就是二维对象了。再举一个例子吧：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[:,[<span class="number">0</span>,<span class="number">4</span>]]</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">4</span>]]</span><br><span class="line">array([<span class="number">0</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p>如果想使用比较简单的方式<strong>返回指定行与列的二维数组</strong>的话，可以使用ix_()函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">93</span>]: arr10[np.ix_([<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>],[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>])] <span class="comment">#    允许我们用指定位置的方式，并且保持返回的数组形状不变</span></span><br><span class="line">Out[<span class="number">93</span>]:</span><br><span class="line">array([[<span class="number">17</span>, <span class="number">19</span>, <span class="number">20</span>],</span><br><span class="line">[ <span class="number">5</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">[<span class="number">21</span>, <span class="number">23</span>, <span class="number">24</span>]])</span><br></pre></td></tr></table></figure>
<p>这与 <code>arr10[[4,1,5]][:,[0,2,3]]</code> 返回的结果是一致的。</p>
<h2 id="统计函数与线性代数运算">统计函数与线性代数运算</h2>
<h3 id="统计函数">统计函数</h3>
<p>统计运算中常见的聚合函数有：最小值、最大值、中位数、均值、方差、标准差等。首先来看看数组元素级别的计算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">94</span>]: arr11 = <span class="number">5</span>-np.arange(<span class="number">1</span>,<span class="number">13</span>).reshape(<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment"># randint返回指定区间的随机整数，区间左闭右开，size不指定时为None，返回1个随机整数</span></span><br><span class="line">In [<span class="number">95</span>]: arr12 = np.random.randint(<span class="number">1</span>,<span class="number">10</span>,size = <span class="number">12</span>).reshape(<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">In [<span class="number">96</span>]: arr11</span><br><span class="line">Out[<span class="number">96</span>]:</span><br><span class="line">array([[ <span class="number">4</span>,  <span class="number">3</span>,  <span class="number">2</span>],</span><br><span class="line">[ <span class="number">1</span>,  <span class="number">0</span>, -<span class="number">1</span>],</span><br><span class="line">[-<span class="number">2</span>, -<span class="number">3</span>, -<span class="number">4</span>],</span><br><span class="line">[-<span class="number">5</span>, -<span class="number">6</span>, -<span class="number">7</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">97</span>]: arr12</span><br><span class="line">Out[<span class="number">97</span>]:</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>],</span><br><span class="line">[<span class="number">7</span>, <span class="number">3</span>, <span class="number">7</span>],</span><br><span class="line">[<span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>],</span><br><span class="line">[<span class="number">6</span>, <span class="number">1</span>, <span class="number">2</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">98</span>]: arr11 ** <span class="number">2</span>    <span class="comment">#计算每个元素的平方</span></span><br><span class="line">Out[<span class="number">98</span>]:</span><br><span class="line">array([[<span class="number">16</span>,  <span class="number">9</span>,  <span class="number">4</span>],</span><br><span class="line">[ <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1</span>],</span><br><span class="line">[ <span class="number">4</span>,  <span class="number">9</span>, <span class="number">16</span>],</span><br><span class="line">[<span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">99</span>]: np.sqrt(arr11)  <span class="comment">#计算每个元素的平方根</span></span><br><span class="line">Out[<span class="number">99</span>]:</span><br><span class="line">array([[ <span class="number">2.</span>        ,  <span class="number">1.73205081</span>,  <span class="number">1.41421356</span>],</span><br><span class="line">[ <span class="number">1.</span>        ,  <span class="number">0.</span>        ,         nan],</span><br><span class="line">[        nan,         nan,         nan],</span><br><span class="line">[        nan,         nan,         nan]])</span><br></pre></td></tr></table></figure>
<p>由于负值的平方根没有意义，故返回nan。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">100</span>]: np.exp(arr11)   <span class="comment">#计算每个元素的指数值，exp(a) 即 e^a</span></span><br><span class="line">Out[<span class="number">100</span>]:</span><br><span class="line">array([[  <span class="number">5.45981500e+01</span>,   <span class="number">2.00855369e+01</span>,   <span class="number">7.38905610e+00</span>],</span><br><span class="line">[  <span class="number">2.71828183e+00</span>,   <span class="number">1.00000000e+00</span>,   <span class="number">3.67879441e-01</span>],</span><br><span class="line">[  <span class="number">1.35335283e-01</span>,   <span class="number">4.97870684e-02</span>,   <span class="number">1.83156389e-02</span>],</span><br><span class="line">[  <span class="number">6.73794700e-03</span>,   <span class="number">2.47875218e-03</span>,   <span class="number">9.11881966e-04</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">101</span>]: np.log(arr12)   <span class="comment">#计算每个元素的自然对数值，log(a) 即 log_e(a)，还有log2和log10两个函数</span></span><br><span class="line">Out[<span class="number">101</span>]:</span><br><span class="line">array([[ <span class="number">0.</span>        ,  <span class="number">1.09861229</span>,  <span class="number">1.94591015</span>],</span><br><span class="line">[ <span class="number">1.94591015</span>,  <span class="number">1.09861229</span>,  <span class="number">1.94591015</span>],</span><br><span class="line">[ <span class="number">1.09861229</span>,  <span class="number">1.94591015</span>,  <span class="number">1.38629436</span>],</span><br><span class="line">[ <span class="number">1.79175947</span>,  <span class="number">0.</span>        ,  <span class="number">0.69314718</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">102</span>]: np.<span class="built_in">abs</span>(arr11)   <span class="comment">#计算每个元素的绝对值</span></span><br><span class="line">Out[<span class="number">102</span>]:</span><br><span class="line">array([[<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>],</span><br><span class="line">[<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]])</span><br></pre></td></tr></table></figure>
<p>相同形状数组间元素的操作：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">103</span>]: arr11 + arr12   <span class="comment">#加</span></span><br><span class="line">Out[<span class="number">103</span>]:</span><br><span class="line">array([[ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">9</span>],</span><br><span class="line">[ <span class="number">8</span>,  <span class="number">3</span>,  <span class="number">6</span>],</span><br><span class="line">[ <span class="number">1</span>,  <span class="number">4</span>,  <span class="number">0</span>],</span><br><span class="line">[ <span class="number">1</span>, -<span class="number">5</span>, -<span class="number">5</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">104</span>]: arr11 - arr12   <span class="comment">#减</span></span><br><span class="line">Out[<span class="number">104</span>]:</span><br><span class="line">array([[  <span class="number">3</span>,   <span class="number">0</span>,  -<span class="number">5</span>],</span><br><span class="line">[ -<span class="number">6</span>,  -<span class="number">3</span>,  -<span class="number">8</span>],</span><br><span class="line">[ -<span class="number">5</span>, -<span class="number">10</span>,  -<span class="number">8</span>],</span><br><span class="line">[-<span class="number">11</span>,  -<span class="number">7</span>,  -<span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">105</span>]: arr11 * arr12   <span class="comment">#乘</span></span><br><span class="line">Out[<span class="number">105</span>]:</span><br><span class="line">array([[  <span class="number">4</span>,   <span class="number">9</span>,  <span class="number">14</span>],</span><br><span class="line">[  <span class="number">7</span>,   <span class="number">0</span>,  -<span class="number">7</span>],</span><br><span class="line">[ -<span class="number">6</span>, -<span class="number">21</span>, -<span class="number">16</span>],</span><br><span class="line">[-<span class="number">30</span>,  -<span class="number">6</span>, -<span class="number">14</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">106</span>]: arr11 / arr12   <span class="comment">#除</span></span><br><span class="line">Out[<span class="number">106</span>]:</span><br><span class="line">array([[ <span class="number">4.</span>        ,  <span class="number">1.</span>        ,  <span class="number">0.28571429</span>],</span><br><span class="line">[ <span class="number">0.14285714</span>,  <span class="number">0.</span>        , -<span class="number">0.14285714</span>],</span><br><span class="line">[-<span class="number">0.66666667</span>, -<span class="number">0.42857143</span>, -<span class="number">1.</span>        ],</span><br><span class="line">[-<span class="number">0.83333333</span>, -<span class="number">6.</span>        , -<span class="number">3.5</span>       ]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">107</span>]: arr11 // arr12  <span class="comment">#整除</span></span><br><span class="line">Out[<span class="number">107</span>]:</span><br><span class="line">array([[ <span class="number">4</span>,  <span class="number">1</span>,  <span class="number">0</span>],</span><br><span class="line">[ <span class="number">0</span>,  <span class="number">0</span>, -<span class="number">1</span>],</span><br><span class="line">[-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>],</span><br><span class="line">[-<span class="number">1</span>, -<span class="number">6</span>, -<span class="number">4</span>]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">108</span>]: arr11 % arr12   <span class="comment">#取余</span></span><br><span class="line">Out[<span class="number">108</span>]:</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">[<span class="number">1</span>, <span class="number">0</span>, <span class="number">6</span>],</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">0</span>],</span><br><span class="line">[<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]], dtype=int32)</span><br></pre></td></tr></table></figure>
<h4 id="统计运算函数">统计运算函数</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">109</span>]: np.<span class="built_in">sum</span>(arr11)   <span class="comment">#计算所有元素的和</span></span><br><span class="line">Out[<span class="number">109</span>]: -<span class="number">18</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">110</span>]: np.<span class="built_in">sum</span>(arr11,axis = <span class="number">0</span>)    <span class="comment">#对每一列求和，注意axis是0</span></span><br><span class="line">Out[<span class="number">110</span>]: array([ -<span class="number">2</span>,  -<span class="number">6</span>, -<span class="number">10</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">111</span>]: np.<span class="built_in">sum</span>(arr11, axis = <span class="number">1</span>)     <span class="comment">#对每一行求和，注意axis是1</span></span><br><span class="line">Out[<span class="number">111</span>]: array([  <span class="number">9</span>,   <span class="number">0</span>,  -<span class="number">9</span>, -<span class="number">18</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">112</span>]: np.cumsum(arr11) <span class="comment">#对每一个元素求累积和（从上到下，从左到右的元素顺序），即每移动一次就把当前数字加到和值</span></span><br><span class="line">Out[<span class="number">112</span>]: array([  <span class="number">4</span>,   <span class="number">7</span>,   <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">10</span>,   <span class="number">9</span>,   <span class="number">7</span>,   <span class="number">4</span>,   <span class="number">0</span>,  -<span class="number">5</span>, -<span class="number">11</span>, -<span class="number">18</span>], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">113</span>]: np.cumsum(arr11, axis = <span class="number">0</span>) <span class="comment">#计算每一列的累积和，并返回二维数组</span></span><br><span class="line">Out[<span class="number">113</span>]:</span><br><span class="line">array([[  <span class="number">4</span>,   <span class="number">3</span>,   <span class="number">2</span>],</span><br><span class="line">[  <span class="number">5</span>,   <span class="number">3</span>,   <span class="number">1</span>],</span><br><span class="line">[  <span class="number">3</span>,   <span class="number">0</span>,  -<span class="number">3</span>],</span><br><span class="line">[ -<span class="number">2</span>,  -<span class="number">6</span>, -<span class="number">10</span>]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">114</span>]: np.cumprod(arr11, axis = <span class="number">1</span>) <span class="comment">#计算每一行的累计积，并返回二维数组</span></span><br><span class="line">Out[<span class="number">114</span>]:</span><br><span class="line">array([[   <span class="number">4</span>,   <span class="number">12</span>,   <span class="number">24</span>],</span><br><span class="line">[   <span class="number">1</span>,    <span class="number">0</span>,    <span class="number">0</span>],</span><br><span class="line">[  -<span class="number">2</span>,    <span class="number">6</span>,  -<span class="number">24</span>],</span><br><span class="line">[  -<span class="number">5</span>,   <span class="number">30</span>, -<span class="number">210</span>]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">115</span>]: np.<span class="built_in">min</span>(arr11)   <span class="comment">#计算所有元素的最小值</span></span><br><span class="line">Out[<span class="number">115</span>]: -<span class="number">7</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">116</span>]: np.<span class="built_in">max</span>(arr11, axis = <span class="number">0</span>) <span class="comment">#计算每一列的最大值</span></span><br><span class="line">Out[<span class="number">116</span>]: array([<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">117</span>]: np.mean(arr11)  <span class="comment">#计算所有元素的均值</span></span><br><span class="line">Out[<span class="number">117</span>]: -<span class="number">1.5</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">118</span>]: np.mean(arr11, axis = <span class="number">1</span>) <span class="comment">#计算每一行的均值</span></span><br><span class="line">Out[<span class="number">118</span>]: array([ <span class="number">3.</span>,  <span class="number">0.</span>, -<span class="number">3.</span>, -<span class="number">6.</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">119</span>]: np.median(arr11)   <span class="comment">#计算所有元素的中位数</span></span><br><span class="line">Out[<span class="number">119</span>]: -<span class="number">1.5</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">120</span>]: np.median(arr11, axis = <span class="number">0</span>)   <span class="comment">#计算每一列的中位数</span></span><br><span class="line">Out[<span class="number">120</span>]: array([-<span class="number">0.5</span>, -<span class="number">1.5</span>, -<span class="number">2.5</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">121</span>]: np.var(arr12)   <span class="comment">#计算所有元素的方差</span></span><br><span class="line">Out[<span class="number">121</span>]: <span class="number">5.354166666666667</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">122</span>]: np.std(arr12, axis = <span class="number">1</span>)   <span class="comment">#计算每一行的标准差</span></span><br><span class="line">Out[<span class="number">122</span>]: array([ <span class="number">2.49443826</span>,  <span class="number">1.88561808</span>,  <span class="number">1.69967317</span>,  <span class="number">2.1602469</span> ])</span><br></pre></td></tr></table></figure>
<p><strong>numpy中的统计函数运算是非常灵活的，既可以计算所有元素的统计值，也可以计算指定行或列的统计指标</strong>。还有其他常用的函数，如符号函数<code>sign</code>(将正数、负数、零分别映射为1、-1、0)，<code>ceil</code>(取&gt;=x的最小整数)，<code>floor</code>(取&lt;=x的最大整数)，<code>modf</code>(将浮点数的整数部分与小数部分分别存入两个独立的数组)，<code>cos</code>，<code>arccos</code>，<code>sin</code>，<code>arcsin</code>，<code>tan</code>，<code>arctan</code>等。</p>
<p>让我很兴奋的一个函数是<code>where()</code>，它类似于Excel中的if函数，可以进行灵活的变换：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">123</span>]: arr11</span><br><span class="line">Out[<span class="number">123</span>]:</span><br><span class="line">array([[ <span class="number">4</span>,  <span class="number">3</span>,  <span class="number">2</span>],</span><br><span class="line">[ <span class="number">1</span>,  <span class="number">0</span>, -<span class="number">1</span>],</span><br><span class="line">[-<span class="number">2</span>, -<span class="number">3</span>, -<span class="number">4</span>],</span><br><span class="line">[-<span class="number">5</span>, -<span class="number">6</span>, -<span class="number">7</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">124</span>]: np.where(arr11 &lt; <span class="number">0</span>, <span class="string">&#x27;negtive&#x27;</span>,<span class="string">&#x27;positive&#x27;</span>)</span><br><span class="line">Out[<span class="number">124</span>]:</span><br><span class="line">array([[<span class="string">&#x27;positive&#x27;</span>, <span class="string">&#x27;positive&#x27;</span>, <span class="string">&#x27;positive&#x27;</span>],</span><br><span class="line">[<span class="string">&#x27;positive&#x27;</span>, <span class="string">&#x27;positive&#x27;</span>, <span class="string">&#x27;negtive&#x27;</span>],</span><br><span class="line">[<span class="string">&#x27;negtive&#x27;</span>, <span class="string">&#x27;negtive&#x27;</span>, <span class="string">&#x27;negtive&#x27;</span>],</span><br><span class="line">[<span class="string">&#x27;negtive&#x27;</span>, <span class="string">&#x27;negtive&#x27;</span>, <span class="string">&#x27;negtive&#x27;</span>]],</span><br><span class="line">dtype=<span class="string">&#x27;&lt;U8&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>当然，<code>np.where</code> 还可以嵌套使用，完成复杂的运算。</p>
<h4 id="其它函数">其它函数</h4>
<p><code>unique(x)</code>: 计算x的唯一元素，并返回有序结果 <code>intersect(x,y)</code>： 计算x和y的公共元素，即交集 <code>union1d(x,y)</code>: 计算x和y的并集 <code>setdiff1d(x,y)</code>: 计算x和y的差集，即元素在x中，不在y中 <code>setxor1d(x,y)</code>: 计算集合的对称差，即存在于一个数组中，但不同时存在于两个数组中 <code>in1d(x,y)</code>: 判断x的元素是否包含于y中</p>
<h3 id="线性代数运算">线性代数运算</h3>
<p>同样numpu也跟R语言一样，可以非常方便的进行线性代数方面的计算，如行列式、逆、迹、特征根、特征向量等。但需要注意的是，有关线性代数的函数并不在numpy中，而是numpy的子例linalg中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">125</span>]: arr13 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">6</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">1</span>]])</span><br><span class="line">In [<span class="number">126</span>]: arr13</span><br><span class="line">Out[<span class="number">126</span>]:</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>],</span><br><span class="line">[<span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">6</span>],</span><br><span class="line">[<span class="number">1</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>],</span><br><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">127</span>]: np.linalg.det(arr13)    <span class="comment">#返回方阵的行列式</span></span><br><span class="line">Out[<span class="number">127</span>]: <span class="number">51.000000000000021</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">128</span>]: np.linalg.inv(arr13)    <span class="comment">#返回方阵的逆</span></span><br><span class="line">Out[<span class="number">128</span>]:</span><br><span class="line">array([[-<span class="number">2.23529412</span>,  <span class="number">1.05882353</span>,  <span class="number">1.70588235</span>, -<span class="number">0.29411765</span>],</span><br><span class="line">[ <span class="number">0.68627451</span>, -<span class="number">0.25490196</span>, -<span class="number">0.7254902</span> ,  <span class="number">0.2745098</span> ],</span><br><span class="line">[ <span class="number">0.19607843</span>, -<span class="number">0.21568627</span>,  <span class="number">0.07843137</span>,  <span class="number">0.07843137</span>],</span><br><span class="line">[ <span class="number">0.25490196</span>,  <span class="number">0.01960784</span>, -<span class="number">0.09803922</span>, -<span class="number">0.09803922</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">129</span>]: np.trace(arr13) <span class="comment">#返回方阵的迹（对角线元素之和），注意迹的求解不在linalg子例程中</span></span><br><span class="line">Out[<span class="number">129</span>]: <span class="number">10</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">130</span>]: np.linalg.eig(arr13)    <span class="comment">#返回由特征根和特征向量组成的元组</span></span><br><span class="line">Out[<span class="number">130</span>]:</span><br><span class="line">(array([ <span class="number">11.35035004</span>,  -<span class="number">3.99231852</span>,  -<span class="number">0.3732631</span> ,   <span class="number">3.01523159</span>]),</span><br><span class="line">array([[-<span class="number">0.4754174</span> , -<span class="number">0.48095078</span>, -<span class="number">0.95004728</span>,  <span class="number">0.19967185</span>],</span><br><span class="line">[-<span class="number">0.60676806</span>, -<span class="number">0.42159999</span>,  <span class="number">0.28426325</span>, -<span class="number">0.67482638</span>],</span><br><span class="line">[-<span class="number">0.36135292</span>, -<span class="number">0.16859677</span>,  <span class="number">0.08708826</span>,  <span class="number">0.70663129</span>],</span><br><span class="line">[-<span class="number">0.52462832</span>,  <span class="number">0.75000995</span>,  <span class="number">0.09497472</span>, -<span class="number">0.07357122</span>]]))</span><br><span class="line"></span><br><span class="line">In [<span class="number">131</span>]: np.linalg.qr(arr13) <span class="comment">#返回方阵的QR分解</span></span><br><span class="line">Out[<span class="number">131</span>]:</span><br><span class="line">(array([[-<span class="number">0.31622777</span>, -<span class="number">0.07254763</span>, -<span class="number">0.35574573</span>, -<span class="number">0.87645982</span>],</span><br><span class="line">[-<span class="number">0.63245553</span>, -<span class="number">0.14509525</span>,  <span class="number">0.75789308</span>, -<span class="number">0.06741999</span>],</span><br><span class="line">[-<span class="number">0.31622777</span>, -<span class="number">0.79802388</span>, -<span class="number">0.38668014</span>,  <span class="number">0.33709993</span>],</span><br><span class="line">[-<span class="number">0.63245553</span>,  <span class="number">0.580381</span>  , -<span class="number">0.38668014</span>,  <span class="number">0.33709993</span>]]),</span><br><span class="line">array([[-<span class="number">3.16227766</span>, -<span class="number">6.64078309</span>, -<span class="number">5.37587202</span>, -<span class="number">6.95701085</span>],</span><br><span class="line">[ <span class="number">0.</span>        ,  <span class="number">1.37840488</span>, -<span class="number">1.23330963</span>, -<span class="number">3.04700025</span>],</span><br><span class="line">[ <span class="number">0.</span>        ,  <span class="number">0.</span>        , -<span class="number">3.40278524</span>,  <span class="number">1.22190924</span>],</span><br><span class="line">[ <span class="number">0.</span>        ,  <span class="number">0.</span>        ,  <span class="number">0.</span>        , -<span class="number">3.4384193</span> ]]))</span><br><span class="line"></span><br><span class="line">In [<span class="number">132</span>]:np.linalg.svd(arr13)    <span class="comment">#返回方阵的奇异值分解</span></span><br><span class="line">Out[<span class="number">132</span>]:</span><br><span class="line">(array([[-<span class="number">0.50908395</span>,  <span class="number">0.27580803</span>,  <span class="number">0.35260559</span>, -<span class="number">0.73514132</span>],</span><br><span class="line">[-<span class="number">0.59475561</span>,  <span class="number">0.4936665</span> , -<span class="number">0.53555663</span>,  <span class="number">0.34020325</span>],</span><br><span class="line">[-<span class="number">0.39377551</span>, -<span class="number">0.10084917</span>,  <span class="number">0.70979004</span>,  <span class="number">0.57529852</span>],</span><br><span class="line">[-<span class="number">0.48170545</span>, -<span class="number">0.81856751</span>, -<span class="number">0.29162732</span>, -<span class="number">0.11340459</span>]]),</span><br><span class="line">array([ <span class="number">11.82715609</span>,   <span class="number">4.35052602</span>,   <span class="number">3.17710166</span>,   <span class="number">0.31197297</span>]),</span><br><span class="line">array([[-<span class="number">0.25836994</span>, -<span class="number">0.52417446</span>, -<span class="number">0.47551003</span>, -<span class="number">0.65755329</span>],</span><br><span class="line">[-<span class="number">0.10914615</span>, -<span class="number">0.38326507</span>, -<span class="number">0.54167613</span>,  <span class="number">0.74012294</span>],</span><br><span class="line">[-<span class="number">0.18632462</span>, -<span class="number">0.68784764</span>,  <span class="number">0.69085326</span>,  <span class="number">0.12194478</span>],</span><br><span class="line">[ <span class="number">0.94160248</span>, -<span class="number">0.32436807</span>, -<span class="number">0.05655931</span>, -<span class="number">0.07050652</span>]]))</span><br><span class="line"></span><br><span class="line">In [<span class="number">133</span>]: np.dot(arr13,arr13)     <span class="comment">#方阵的正真乘积运算</span></span><br><span class="line">Out[<span class="number">133</span>]:</span><br><span class="line">array([[<span class="number">18</span>, <span class="number">38</span>, <span class="number">37</span>, <span class="number">31</span>],</span><br><span class="line">[<span class="number">23</span>, <span class="number">51</span>, <span class="number">38</span>, <span class="number">43</span>],</span><br><span class="line">[<span class="number">13</span>, <span class="number">25</span>, <span class="number">32</span>, <span class="number">26</span>],</span><br><span class="line">[<span class="number">18</span>, <span class="number">33</span>, <span class="number">31</span>, <span class="number">53</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">134</span>]:arr14 = np.array([[<span class="number">1</span>,-<span class="number">2</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>,-<span class="number">8</span>],[-<span class="number">4</span>,<span class="number">5</span>,<span class="number">9</span>]])</span><br><span class="line">In [<span class="number">135</span>]: vector = np.array([<span class="number">0</span>,<span class="number">8</span>,-<span class="number">9</span>])</span><br><span class="line">In [<span class="number">136</span>]: np.linalg.solve(arr14,vector)     <span class="comment"># 求解线性方程组</span></span><br><span class="line">Out[<span class="number">136</span>]: array([ <span class="number">29.</span>,  <span class="number">16.</span>,   <span class="number">3.</span>]) <span class="comment">#1*29 - 2*16 + 1*3 = 0，以此类推</span></span><br></pre></td></tr></table></figure>
<h2 id="随机数生成">随机数生成</h2>
<p>统计学中经常会讲到数据的分布特征，如正态分布、指数分布、卡方分布、二项分布、泊松分布等，下面就讲讲有关分布的随机数生成。</p>
<h3 id="正态分布直方图">正态分布直方图</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">137</span>]: <span class="keyword">import</span> matplotlib <span class="comment">#用于绘图的模块</span></span><br><span class="line">In [<span class="number">138</span>]: np.random.seed(<span class="number">1234</span>)    <span class="comment">#设置随机种子</span></span><br><span class="line">In [<span class="number">139</span>]: N = <span class="number">10000</span>   <span class="comment">#随机产生的样本量</span></span><br><span class="line">In [<span class="number">140</span>]: randnorm = np.random.normal(size = N)   <span class="comment">#生成正态随机数</span></span><br><span class="line">In [<span class="number">141</span>]: counts, bins, path = matplotlib.pylab.hist(randnorm, bins = np.sqrt(N), normed = <span class="literal">True</span>, color = <span class="string">&#x27;blue&#x27;</span>)  <span class="comment">#绘制直方图</span></span><br></pre></td></tr></table></figure>
<p>以上将直方图的频数和组距存放在counts和bins内。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">142</span>]: sigma = <span class="number">1</span>; mu = <span class="number">0</span></span><br><span class="line">In [<span class="number">143</span>]: norm_dist = (<span class="number">1</span>/np.sqrt(<span class="number">2</span>*sigma*np.pi))*np.exp(-((bins-mu)**<span class="number">2</span>)/<span class="number">2</span>)    <span class="comment">#正态分布密度函数</span></span><br><span class="line">In [<span class="number">144</span>]: matplotlib.pylab.plot(bins,norm_dist,color = <span class="string">&#x27;red&#x27;</span>) <span class="comment">#绘制正态分布密度函数图</span></span><br></pre></td></tr></table></figure>
<figure>
<img src="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9Fsug02YAxI2vUgquFG71OO6RZYCNoaiaHOMwRAbkOSLdic15aaaTqhKzQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="" /><figcaption>graph1</figcaption>
</figure>
<p>补充一下，这个例子想说的是 <code>random.normal</code> 生成指定数目的随机数（可以进一步指定分布的均值、标准差和中心），然后把这些随机数用直方图画了出来。并且画了一条同一区间内的正态分布曲线来对比。注意种子的设置和生成随机数的大小是无关的，只是说使用不同的种子会生成不同的随机数，详细可以查找相关资料。</p>
<h3 id="使用二项分布进行赌博">使用二项分布进行赌博</h3>
<p>同时抛弃9枚硬币，如果正面朝上少于5枚，则输掉8元，否则就赢8元。如果手中有1000元作为赌资，请问赌博10000次后可能会是什么情况呢？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">146</span>]: np.random.seed(<span class="number">1234</span>)</span><br><span class="line">In [<span class="number">147</span>]: binomial = np.random.binomial(<span class="number">9</span>,<span class="number">0.5</span>,<span class="number">10000</span>)  <span class="comment">#生成二项分布随机数</span></span><br><span class="line">In [<span class="number">148</span>]: money = np.zeros(<span class="number">10000</span>) <span class="comment">#生成10000次赌资的列表</span></span><br><span class="line">In [<span class="number">149</span>]: money[<span class="number">0</span>] = <span class="number">1000</span> <span class="comment">#首次赌资为1000元</span></span><br><span class="line">In [<span class="number">150</span>]: <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10000</span>):</span><br><span class="line">     ...:     <span class="keyword">if</span> binomial[i] &lt; <span class="number">5</span>:</span><br><span class="line">     ...:         money[i] = money[i-<span class="number">1</span>] - <span class="number">8</span></span><br><span class="line"><span class="comment">#如果少于5枚正面，则在上一次赌资的基础上输掉8元</span></span><br><span class="line">     ...:     <span class="keyword">else</span>:</span><br><span class="line">     ...:         money[i] = money[i-<span class="number">1</span>] + <span class="number">8</span></span><br><span class="line"><span class="comment">#如果至少5枚正面，则在上一次赌资的基础上赢取8元</span></span><br><span class="line">In [<span class="number">151</span>]: matplotlib.pylab.plot(np.arange(<span class="number">10000</span>), money)</span><br></pre></td></tr></table></figure>
<figure>
<img src="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9FwvwtdAekD30cx5dWkf3J9PaVVNaAogGpoAOyREnZcVCFTLTL43Bskw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="" /><figcaption>graph2</figcaption>
</figure>
<h3 id="使用随机整数实现随机游走">使用随机整数实现随机游走</h3>
<p>一个醉汉在原始位置上行走10000步后将会在什么地方呢？如果他每走一步是随机的，即下一步可能是1也可能是-1。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">152</span>]: np.random.seed(<span class="number">1234</span>)    <span class="comment">#设定随机种子</span></span><br><span class="line">In [<span class="number">153</span>]: position = <span class="number">0</span>    <span class="comment">#设置初始位置</span></span><br><span class="line">In [<span class="number">154</span>]: walk = []   <span class="comment">#创建空列表</span></span><br><span class="line">In [<span class="number">155</span>]: steps = <span class="number">10000</span>   <span class="comment">#假设接下来行走10000步</span></span><br><span class="line">In [<span class="number">156</span>]: <span class="keyword">for</span> i <span class="keyword">in</span> np.arange(steps):</span><br><span class="line">     ...:     step = <span class="number">1</span> <span class="keyword">if</span> np.random.randint(<span class="number">0</span>,<span class="number">2</span>) <span class="keyword">else</span> -<span class="number">1</span>  <span class="comment">#每一步都是随机的（如果随机到1就走1步，随机到0就走-1步）</span></span><br><span class="line">     ...:     position = position + step  <span class="comment">#对每一步进行累计求和</span></span><br><span class="line">     ...:     walk.append(position)   <span class="comment">#确定每一步所在的位置</span></span><br><span class="line">In [<span class="number">157</span>]: matplotlib.pylab.plot(np.arange(<span class="number">10000</span>), walk)   <span class="comment">#绘制随机游走图</span></span><br></pre></td></tr></table></figure>
<figure>
<img src="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9Frp8BIXlMvXMvOR5nPHcicuzrRfSicPBicbApwriaUpD7NFnmy0oTlqrvgg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="" /><figcaption>graph3</figcaption>
</figure>
<p>上面的代码还可以写成（结合前面所讲的where函数，cumsum函数）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">158</span>]: np.random.seed(<span class="number">1234</span>)</span><br><span class="line">In [<span class="number">159</span>]: step = np.where(np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">10000</span>)&gt;<span class="number">0</span>,<span class="number">1</span>,-<span class="number">1</span>)</span><br><span class="line">In [<span class="number">160</span>]: position = np.cumsum(step)</span><br><span class="line">In [<span class="number">161</span>]: matplotlib.pylab.plot(np.arange(<span class="number">10000</span>), position)</span><br></pre></td></tr></table></figure>
<figure>
<img src="http://mmbiz.qpic.cn/mmbiz/yjFUicxiaClgUXjmGVZtctljErLLnffs9Frp8BIXlMvXMvOR5nPHcicuzrRfSicPBicbApwriaUpD7NFnmy0oTlqrvgg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="" /><figcaption>graph4</figcaption>
</figure>
<p><strong>避免for循环，可以达到同样的效果</strong>。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Numpy 学习</p><p><a href="https://hunlp.com/posts/21992.html">https://hunlp.com/posts/21992.html</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>ฅ´ω`ฅ</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2017-06-29</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-06-08</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><hr style="height:1px;margin:1rem 0"><div class="level is-mobile is-flex"><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted" rel="tag" href="/tags/%E7%AC%94%E8%AE%B0/">笔记 </a></div></div><div class="bdsharebuttonbox"><a class="bds_more" href="#" data-cmd="more"></a><a class="bds_qzone" href="#" data-cmd="qzone" title="分享到QQ空间"></a><a class="bds_tsina" href="#" data-cmd="tsina" title="分享到新浪微博"></a><a class="bds_tqq" href="#" data-cmd="tqq" title="分享到腾讯微博"></a><a class="bds_renren" href="#" data-cmd="renren" title="分享到人人网"></a><a class="bds_weixin" href="#" data-cmd="weixin" title="分享到微信"></a></div><script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "2", "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/zfb.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wx.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/16175.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">深拷贝与浅拷贝的区别</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/32532.html"><span class="level-item">常用内建模块（下）</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#数组的创建"><span class="level-left"><span class="level-item">1</span><span class="level-item">数组的创建</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#一维数组的创建"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">一维数组的创建</span></span></a></li><li><a class="level is-mobile" href="#二维数组的创建"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">二维数组的创建</span></span></a></li></ul></li><li><a class="level is-mobile" href="#有关数组的属性和函数"><span class="level-left"><span class="level-item">2</span><span class="level-item">有关数组的属性和函数</span></span></a></li><li><a class="level is-mobile" href="#数组元素的获取"><span class="level-left"><span class="level-item">3</span><span class="level-item">数组元素的获取</span></span></a></li><li><a class="level is-mobile" href="#统计函数与线性代数运算"><span class="level-left"><span class="level-item">4</span><span class="level-item">统计函数与线性代数运算</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#统计函数"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">统计函数</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#统计运算函数"><span class="level-left"><span class="level-item">4.1.1</span><span class="level-item">统计运算函数</span></span></a></li><li><a class="level is-mobile" href="#其它函数"><span class="level-left"><span class="level-item">4.1.2</span><span class="level-item">其它函数</span></span></a></li></ul></li><li><a class="level is-mobile" href="#线性代数运算"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">线性代数运算</span></span></a></li></ul></li><li><a class="level is-mobile" href="#随机数生成"><span class="level-left"><span class="level-item">5</span><span class="level-item">随机数生成</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#正态分布直方图"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">正态分布直方图</span></span></a></li><li><a class="level is-mobile" href="#使用二项分布进行赌博"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">使用二项分布进行赌博</span></span></a></li><li><a class="level is-mobile" href="#使用随机整数实现随机游走"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">使用随机整数实现随机游走</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="MCFON" height="28"></a><p class="is-size-7"><span>&copy; 2022 ฅ´ω`ฅ</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>