<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>模块 - MCFON</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="MCFON"><meta name="msapplication-TileImage" content="/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="MCFON"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="在开发过程中，一个文件里代码越长就越不容易维护。 为了编写易于维护的代码，我们把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。"><meta property="og:type" content="blog"><meta property="og:title" content="模块"><meta property="og:url" content="https://hunlp.com/posts/60268.html"><meta property="og:site_name" content="MCFON"><meta property="og:description" content="在开发过程中，一个文件里代码越长就越不容易维护。 为了编写易于维护的代码，我们把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://oe0e8k1nf.bkt.clouddn.com/My_Python_Notebook_Module0.png"><meta property="og:image" content="http://oe0e8k1nf.bkt.clouddn.com/My_Python_Notebook_Module1.png"><meta property="og:image" content="http://imglf0.nosdn.127.net/img/dnpRZUpJZlB5VUQ2UTdlUDluSm9RZEZVQ0hEMjZrWjJReENQRmwvNVp4U0tnN3VUV004RE1BPT0.png?imageView&amp;amp;thumbnail=500x0&amp;amp;quality=96&amp;amp;stripmeta=0&amp;amp;type=jpg"><meta property="og:image" content="http://imglf2.nosdn.127.net/img/dnpRZUpJZlB5VUQ2UTdlUDluSm9RZU9hUFRtT0dMaFRWTENkaW1SREVrN25rd3VXSlVBKy9nPT0.png?imageView&amp;amp;thumbnail=500x0&amp;amp;quality=96&amp;amp;stripmeta=0&amp;amp;type=jpg"><meta property="article:published_time" content="2017-06-19T17:35:34.000Z"><meta property="article:modified_time" content="2021-06-08T12:31:26.242Z"><meta property="article:author" content="ฅ´ω`ฅ"><meta property="article:tag" content="笔记"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="http://oe0e8k1nf.bkt.clouddn.com/My_Python_Notebook_Module0.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hunlp.com/posts/60268.html"},"headline":"模块","image":["http://oe0e8k1nf.bkt.clouddn.com/My_Python_Notebook_Module0.png","http://oe0e8k1nf.bkt.clouddn.com/My_Python_Notebook_Module1.png"],"datePublished":"2017-06-19T17:35:34.000Z","dateModified":"2021-06-08T12:31:26.242Z","author":{"@type":"Person","name":"ฅ´ω`ฅ"},"publisher":{"@type":"Organization","name":"MCFON","logo":{"@type":"ImageObject","url":"https://hunlp.com/img/logo.png"}},"description":"在开发过程中，一个文件里代码越长就越不容易维护。 为了编写易于维护的代码，我们把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。"}</script><link rel="canonical" href="https://hunlp.com/posts/60268.html"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?b99420d7a06d2b3361a8efeaf6e20764";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-131608076-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-131608076-1');</script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="MCFON" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><i class="fas fa-angle-double-right"></i>模块</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="${date_xml(page.date)}" title="${date_xml(page.date)}">2017-06-20</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time dateTime="${date_xml(page.updated)}" title="${date_xml(page.updated)}">2021-06-08</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a></span><span class="level-item">29 分钟读完 (大约4397个字)</span></div></div><div class="content"><p>在开发过程中，一个文件里代码越长就越不容易维护。</p>
<p>为了编写易于维护的代码，我们把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。 <span id="more"></span> 在Python中，<strong>一个.py文件就称之为一个模块（Module）</strong>。</p>
<h2 id="使用模块的几个好处">使用模块的几个好处</h2>
<ul>
<li>大大提高了代码的可维护性。</li>
<li>编写代码不必从零开始。当一个模块编写完毕，就可以被其他模块引用。</li>
<li>避免函数名和变量名冲突。相同名字的函数和变量完全可以分别存在不同的模块中。 但还是要注意<strong>变量名尽量不要与BIF（built-in functions，内建函数）名字冲突</strong>。</li>
</ul>
<hr />
<p><br></p>
<h2 id="模块名和包名">模块名和包名</h2>
<p>由于不同的人编写的模块名可能会相同，为了<strong>避免模块名冲突</strong>，Python又引入了<strong>按目录来组织模块</strong>的方法，称为<strong>包（Package）</strong>。</p>
<figure>
<img src="http://oe0e8k1nf.bkt.clouddn.com/My_Python_Notebook_Module0.png" alt="图片" /><figcaption aria-hidden="true">图片</figcaption>
</figure>
<p>假设图中abc和xyz两个模块的名字和外面其他模块名字冲突了，我们可以通过包来组织模块，避免冲突。 只要<strong>顶层包名(也即这里的mycompany文件夹)不同即可</strong>。</p>
<p>此时abc的<strong>模块名</strong>变为 <code>mycompany.abc</code>, xyz的<strong>模块名</strong>变为 <code>mycompany.xyz</code>。</p>
<p><strong>Notice</strong>：</p>
<ul>
<li><p><strong>注意区分模块和模块名</strong>！两者不一定相同！（比如上面的模块 <code>abc</code> 和它的模块名 <code>mycompany.abc</code>）</p></li>
<li><p><strong>每个包目录下都必须有一个 <code>__init__.py</code> 文件</strong>，否则Python就不会把这个文件夹当作一个包。 <code>__init__.py</code>可以是空文件，也可以有Python代码，它本身就是一个模块，并且<strong>它的模块名就是包名</strong>(这里是 <code>mycompany</code>)。</p></li>
</ul>
<figure>
<img src="http://oe0e8k1nf.bkt.clouddn.com/My_Python_Notebook_Module1.png" alt="图片" /><figcaption aria-hidden="true">图片</figcaption>
</figure>
<p><strong>包结构可以是多级的</strong>。比方说这里www.py的<strong>模块名</strong>就是 <code>mycompany.web.www</code> 。 两个utils.py的模块名分别是 <code>mycompany.utils</code> 和 <code>mycompany.web.utils</code>，它们不会冲突 。 <code>mycompany.web</code> 这个模块名对应的就是web目录下的 <code>__init__.py</code> 模块。</p>
<p><strong>Notice</strong>:</p>
<p>自己创建的模块的模块名<strong>不要和Python自带的模块的模块名冲突</strong>！ 比如系统自带sys模块，自己的模块就不要命名sys.py，否则无法会无法正确import自带的sys模块。</p>
<hr />
<p><br></p>
<h2 id="使用模块">使用模块</h2>
<p>Python本身就内置了很多模块可以直接import使用。 下面我们自己编写一个Hello模块作为例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;This is the docstring(document comment) of this module &#x27;</span></span><br><span class="line"></span><br><span class="line">__author__ = <span class="string">&#x27;Lincoln Deng&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>():</span></span><br><span class="line">    args = sys.argv</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(args)==<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;No argument is passed.&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>(args)==<span class="number">2</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Hello, %s!&#x27;</span> % args[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Too many arguments!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    test()</span><br></pre></td></tr></table></figure>
<h3 id="例子解析">例子解析</h3>
<h4 id="python模块的标准文件模板">Python模块的标准文件模板</h4>
<p>文件的第1行和第2行是<strong>标准注释</strong>：</p>
<ul>
<li><p>第1行注释是用于<strong>声明使用什么程序来执行这个脚本</strong>，它可以<strong>使得这个脚本能在Unix/Linux/Mac上直接运行</strong>（也即<strong>可以使用 <code>./Hello.py</code> 的形式执行</strong>而不是 <code>python Hello.py</code> 的形式）。如果系统装了多个版本的python，<code>#!/usr/bin/env python3</code> 会保证调用环境变量 <code>$PATH</code> 中的第一个叫python3的程序来执行脚本。又因为在一些系统中python能被重定向到python3，也即默认使用python3，所以直接用 <code>#!/usr/bin/env python</code> 也是可以的。还有一种写法是 <code>#!/usr/bin/python</code>，这样写就是指定一个路径，兼容性不如使用env的写法好。注意，如果我们使用 <code>python Hello.py</code> 或者 <code>python3 Hello.py</code> 的方式<strong>直接指定解释器来执行的话，这句注释就没用了</strong>。另外，在Windows下<strong>这句注释也是被忽略的</strong>，但<strong>为了代码的兼容性最好还是写上</strong>。</p></li>
<li><p>第2行注释表示（解释器和编辑器）<strong>应使用UTF-8编码来读取这个.py脚本文件中的代码文本</strong>。<strong>在Python2中，默认源代码编码方式为ASCII</strong>，要用到中文就得采用很别扭的escape写法，直接写中文会出错。后来有了<a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-0263/">PEP 0263标准</a>，规定了<strong>显式声明代码文本编码</strong>的方法。一般有三种格式，包括：能被大部分编辑器识别的 <code># -*- coding: utf-8 -*-</code>，最简单的 <code># coding=utf-8</code> 以及vim的 <code># vim: set fileencoding=utf-8</code> （其实还可以写成别的方式，主要看编辑器怎样正则匹配这一行）。当然这里的utf-8可以换为其他编码。注意<strong>编码声明必须放在代码文件的第一行或第二行</strong>。另外，这里只是<strong>声明读取时采用的编码方式，保存代码时用什么方式要自己设置编辑器</strong>。实测由于<strong>Python3默认用utf-8编码</strong>，所以只要我们正确使用utf-8编码保存代码文件，那么读取时不声明也没关系。当然，<strong>为了代码的兼容性最好还是写上</strong>。</p></li>
</ul>
<p>文件的第4行是一个字符串，表示模块的文档注释，<strong>任何模块的第一个字符串都被视为模块的文档注释；</strong></p>
<p>文件的第6行使用 <code>__author__</code> 变量记录模块作者的名字。</p>
<p>以上就是<strong>Python模块的标准文件模板</strong>，在Windows下使用Python3时，其实不写也没关系，但养成良好的书写习惯更好。</p>
<h4 id="正式代码部分">正式代码部分</h4>
<ol type="1">
<li><strong>导入sys模块</strong></li>
</ol>
<p>如果想使用Python内置的sys模块，就要先导入该模块： <code>import sys</code>。 导入之后，相当于<strong>创建了一个变量<code>sys</code>，该变量指向sys模块，通过这个变量可以访问sys模块的全部功能</strong>。</p>
<ol start="2" type="1">
<li><strong>使用argv变量获取参数列表</strong></li>
</ol>
<p><strong>sys模块有一个 <code>argv</code> 变量</strong>，这个变量属于list类型，存储着<strong>命令行的所有参数</strong>（即我们在命令行执行该脚本时使用的参数）。<code>argv</code> 列表中至少包含一个元素，因为<strong>第一个参数永远是该脚本文件的名称</strong>，例如：</p>
<p>在命令行执行 <code>python3 Hello.py</code> 获得的 <code>sys.argv</code> 就是 <code>['Hello.py']</code>；</p>
<p>在命令行执行 <code>python3 Hello.py Michael</code> 获得的 <code>sys.argv</code> 就是 <code>['Hello.py', 'Michael]</code>。 要获取字符串 <code>'Michael'</code> 只需要调用 <code>sys.argv[1]</code>。</p>
<ol start="3" type="1">
<li><strong>条件判断</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    test()</span><br></pre></td></tr></table></figure>
<p>在Hello模块中我们定义了一个test函数，这个条件判断的意思就是，如果程序执行到这里，<code>__name__</code> 变量的值是 <code>'__main__'</code> 的话就执行 <code>test</code> 函数。</p>
<p>其中 <code>__name__</code> 变量是个特殊变量，当我们<strong>在命令行执行</strong>Hello.py时，Python解释器就会把 <code>__name__</code> 变量赋值为 <code>__main__</code>。</p>
<p>但<strong>如果在别的文件中导入模块，<code>__name__</code> 的值就是模块的名字</strong>而非 <code>__main__</code>，此时if判断结果为 <code>False</code>。 借助这个特性，我们可以<strong>在if判断中编写一些额外的代码</strong>，用于测试模块的功能，而在使用（导入）模块时，if判断里的代码不会被执行。</p>
<h4 id="在命令行下执行">在命令行下执行</h4>
<p>保存代码文件后，打开命令行，先把路径切换到保存 <code>Hello.py</code> 的目录，然后执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator\Desktop&gt;python Hello.py</span><br><span class="line">No argument is passed.</span><br><span class="line"></span><br><span class="line">C:\Users\Administrator\Desktop&gt;python Hello.py Lincoln</span><br><span class="line">Hello, Lincoln!</span><br></pre></td></tr></table></figure>
<h4 id="在交互环境下执行">在交互环境下执行</h4>
<p>比方说使用IDLE或者在命令行中输入python进入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator\Desktop&gt;python</span><br><span class="line">Python <span class="number">3.5</span><span class="number">.1</span> |Anaconda <span class="number">4.0</span><span class="number">.0</span> (<span class="number">64</span>-bit)| (default, Feb <span class="number">16</span> <span class="number">2016</span>, 09:<span class="number">49</span>:<span class="number">46</span>) [MSC v<span class="number">.1900</span> <span class="number">64</span> bit (AMD64)] on win32</span><br><span class="line"><span class="type">Type</span> <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> <span class="keyword">or</span> <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> Hello</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Hello.__name__</span><br><span class="line"><span class="string">&#x27;Hello&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Hello.test()</span><br><span class="line">No argument <span class="keyword">is</span> passed.</span><br></pre></td></tr></table></figure>
<p>导入Hello模块时，它的 <code>__name__</code> 变量会被赋值为模块名 <code>Hello</code>，而不是 <code>__main__</code>，所以if判断为 <code>False</code>，if判断里的代码不会被执行。如果要使用 <code>test</code> 函数，就要通过 <code>模块名.函数名</code> 的方式进行调用，使用模块内的其他变量/函数同理。</p>
<hr />
<h3 id="命名规范和作用域">命名规范和作用域</h3>
<p>在模块中我们会定义很多函数和变量，有些是希望给别人用的，有些则希望仅仅在模块内部使用。</p>
<h4 id="公开public的变量和函数">公开(public)的变量和函数</h4>
<p>命名格式如： <code>abc</code>，<code>x123</code>，<code>PI</code>， 如果是有特殊用途则<strong>在名称前后各加上两个下划线</strong>，如：<code>__author__</code>，<code>__name__</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>Hello.__doc__</span><br><span class="line"><span class="string">&#x27;This is the docstring(document comment) of this module &#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Hello.__name__</span><br><span class="line"><span class="string">&#x27;Hello&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Hello.__author__</span><br><span class="line"><span class="string">&#x27;Lincoln Deng&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Hello.__file__</span><br><span class="line"><span class="string">&#x27;C:\\Users\\Administrator\\Desktop\\Hello.py&#x27;</span></span><br></pre></td></tr></table></figure>
<p>可以看到 <code>__doc__</code> 变量返回了我们前面模块例子的代码中第一个字符串，也即<strong>文档注释(DocString)</strong>。什么是文档注释呢？其实就是一个<strong>模块/类/函数/方法的定义中第一个声明的字符串</strong>，使用这些对象的 <code>.doc</code> 属性即可访问。关于文档注释的书写标准可以查看<a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-0257/">PEP 0257</a>。</p>
<h4 id="私有private的变量和函数">私有(private)的变量和函数</h4>
<p>命名格式是在<strong>名称前加一个或两个下划线</strong>，如 <code>_xxx</code> 和 <code>__xxx</code>。这样的函数或变量<strong>不应该被外部直接引用(即通过 <code>模块名.变量名</code> 的方式调用)</strong>。比方说下面定义的 <code>_private_1</code> 函数和 <code>_private_2</code> 函数，我们不希望使用这个模块的人调用它们：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_private_1</span>(<span class="params">name</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello, %s&#x27;</span> % name</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_private_2</span>(<span class="params">name</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hi, %s&#x27;</span> % name</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greeting</span>(<span class="params">name</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(name) &gt; <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">return</span> _private_1(name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> _private_2(name)</span><br></pre></td></tr></table></figure>
<p>虽然不希望用户调用私有函数，但我们<strong>可以暴露给用户一个接口（公开的函数）</strong>，也即这里的 <code>greeting</code> 函数，把调用两个私有函数的代码和逻辑封装在里面，用户直接调用 <code>greeting</code> 函数，然后让 <code>greeting</code> 函数决定怎样调用私有函数。</p>
<p>当用户使用模块时不需要关心私有的变量和函数，直接使用公开的变量和函数就可以了。 这是一种常用的<strong>代码封装和抽象</strong>的方法。</p>
<p><strong>注意：</strong></p>
<p>这里说私有函数和变量 <strong>不应该被直接引用</strong>，而不是 <strong>不能被直接引用</strong>。 因为Python没有方法可以限制用户调用私有函数和变量（没有），所以这样命名<strong>只是一种约定的编程习惯</strong>，使用者怎么做就要看他自己怎么决定了。</p>
<p>良好的习惯是<strong>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public</strong>。</p>
<hr />
<p><br></p>
<h2 id="安装第三方库">安装第三方库</h2>
<p>在Python中，安装第三方库（从而使用第三方库中提供的第三方模块），可以通过<strong>包管理工具pip</strong>（也有其他的包管理工具）完成。</p>
<p>安装Python时选择了安装pip的话，就可以直接在命令行中使用pip工具了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Pillow</span><br></pre></td></tr></table></figure>
<p>在命令行键入 <code>pip install 第三方库的库名</code> 后， pip就会自动帮用户下载并安装第三方库。</p>
<figure>
<img src="http://imglf0.nosdn.127.net/img/dnpRZUpJZlB5VUQ2UTdlUDluSm9RZEZVQ0hEMjZrWjJReENQRmwvNVp4U0tnN3VUV004RE1BPT0.png?imageView&amp;thumbnail=500x0&amp;quality=96&amp;stripmeta=0&amp;type=jpg" alt="安装1" /><figcaption aria-hidden="true">安装1</figcaption>
</figure>
<figure>
<img src="http://imglf2.nosdn.127.net/img/dnpRZUpJZlB5VUQ2UTdlUDluSm9RZU9hUFRtT0dMaFRWTENkaW1SREVrN25rd3VXSlVBKy9nPT0.png?imageView&amp;thumbnail=500x0&amp;quality=96&amp;stripmeta=0&amp;type=jpg" alt="安装2" /><figcaption aria-hidden="true">安装2</figcaption>
</figure>
<p>这里安装的是<strong>Python Imaging Library</strong>这个第三方库，是一个Python下非常强大的图像处理工具库。 因为PIL只支持到Python2.7，所以这里用的是基于PIL开发的支持Python3的<strong>Pillow</strong>。</p>
<p>安装完成后打开 <code>F:\Python35\Lib\site-packages</code> 文件夹（具体路径看安装Python的位置而定）就会发现多了两个文件夹，一个是 <code>Pillow-3.1.1.dist-info</code>, 另一个是 <code>PIL</code>。 前者包含该库的一些基本信息，后者就是我们需要用到的包了，里面是有 <code>__init__.py</code> 文件的。</p>
<p>安装好的包我们可以在文件中直接用 <code>from 包名 import 模块名</code> 来导入要使用的模块，而不需要先转到模块所在的目录下再导入，也不需要把模块复制到我们的工程文件夹中。</p>
<p>举一个使用Pillow包中利用Image模块生成图片缩略图的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>im = Image.<span class="built_in">open</span>(<span class="string">&#x27;C:/Users/Administrator/Desktop/test.png&#x27;</span>) <span class="comment"># 打开指定路径下的一张照片</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(im.<span class="built_in">format</span>, im.size, im.mode) <span class="comment"># 打印照片的文件格式&amp;尺寸&amp;颜色模式</span></span><br><span class="line">PNG (<span class="number">400</span>, <span class="number">300</span>) RGB</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>im.thumbnail((<span class="number">200</span>, <span class="number">100</span>)) <span class="comment"># 创建缩略图</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>im.save(<span class="string">&#x27;thumb.jpg&#x27;</span>, <span class="string">&#x27;JPEG&#x27;</span>) <span class="comment"># 保存缩略图</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>im.show()  <span class="comment"># 查看图片</span></span><br></pre></td></tr></table></figure>
<p>其他常用的第三方库还有MySQL的驱动：mysql-connector-python，用于科学计算的NumPy库：numpy，用于生成文本的模板工具Jinja2，等等。</p>
<hr />
<p><br></p>
<h2 id="模块搜索路径">模块搜索路径</h2>
<p>在Python中导入模块时，Python解释器会从指定好的路径中进行搜索。我们可以使用sys模块的变量 <code>path</code> 来查看模块的搜索路径，导入模块时会从这些路径中查找.py文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;python</span><br><span class="line">Python <span class="number">3.5</span><span class="number">.1</span> |Anaconda <span class="number">4.0</span><span class="number">.0</span> (<span class="number">64</span>-bit)| (default, Feb <span class="number">16</span> <span class="number">2016</span>, 09:<span class="number">49</span>:<span class="number">46</span>) [MSC v<span class="number">.1900</span> <span class="number">64</span> bit (AMD64)] on win32</span><br><span class="line"><span class="type">Type</span> <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> <span class="keyword">or</span> <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path</span><br><span class="line">[<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\python35.zip&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\DLLs&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\lib&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\Sphinx-1.3.5-py3.5.egg&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\win32&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\win32\\lib&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\Pythonwin&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\setuptools-20.3-py3.5.egg&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>sys模块的 <code>path</code> 变量是一个列表，它会<strong>在启动Python时被初始化</strong>，初始赋值（按顺序）由三个部分组成，一是<strong>当前目录</strong>（即列表中的空字符串），二是<strong>环境变量 <code>PYTHONPATH</code> 中的路径</strong>，三是一些<strong>默认的路径</strong>（包含内置模块和一些通过pip安装的模块）。由于我没有设置环境变量 <code>PYTHONPATH</code>，所以上面只有一和三两部分。尝试新建一个名为 <code>PYTHONPATH</code> 的环境变量，添加一条路径指向F盘，<strong>重新启动Python程序</strong>，此时就会发现 <code>path</code> 变量的初始赋值中多了F盘的路径了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;python</span><br><span class="line">Python <span class="number">3.5</span><span class="number">.1</span> |Anaconda <span class="number">4.0</span><span class="number">.0</span> (<span class="number">64</span>-bit)| (default, Feb <span class="number">16</span> <span class="number">2016</span>, 09:<span class="number">49</span>:<span class="number">46</span>) [MSC v<span class="number">.1900</span> <span class="number">64</span> bit (AMD64)] on win32</span><br><span class="line"><span class="type">Type</span> <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> <span class="keyword">or</span> <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path</span><br><span class="line">[<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;F:\\&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\python35.zip&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\DLLs&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\lib&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\Sphinx-1.3.5-py3.5.egg&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\win32&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\win32\\lib&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\Pythonwin&#x27;</span>, <span class="string">&#x27;F:\\Anaconda3\\lib\\site-packages\\setuptools-20.3-py3.5.egg&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>如果需要使用自己编写的模块，可以把它们放到这些目录中。 也可以自己<strong>增加搜索路径</strong>。具体来说分为两种方法：</p>
<ul>
<li>方法一：<strong>直接使用 <code>apeend</code> 往 <code>sys.path</code> 列表添加搜索路径</strong>，这种方法<strong>只在该次运行时有效</strong>，重启Python交互环境后会恢复原来的路径：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path.append(<span class="string">&#x27;C:/Users/Administrator/Desktop&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二：<strong>配置环境变量PYTHONPATH</strong>，只需要增加自己的搜索路径，默认的路径是不会被覆盖掉的，使用这种方法就<strong>不需要每次都修改 <code>sys.path</code> </strong>了。</li>
</ul>
<p>关于 <code>sys.path</code> 的详情可以查看<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/sys.html#sys.path">官方文档</a>。</p>
<hr />
<p><br></p>
<h2 id="文件搜索路径">文件搜索路径</h2>
<p>这一节与模块无关，但是觉得有必要区分好<strong>文件搜索路径</strong>和<strong>模块搜索路径</strong>！ 文件搜索路径是当前工作目录，如果我们不指定路径，直接使用文件名访问文件的时候，Python会从当前路径中进行查找；模块搜索路径则是像上一节提及的那样，指 <code>sys.path</code> 列表中包含的路径。</p>
<p>要获取当前工作路径可以使用os模块的 <code>getcwd</code> 函数，也即<strong>get current work directory</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.getcwd()</span><br><span class="line"><span class="string">&#x27;C:\\Users\\Administrator\\Desktop&#x27;</span></span><br></pre></td></tr></table></figure>
<p>要调用的文件如果放在当前工作路径上就可以直接用 <code>文件名.文件格式</code> 指定，比方说我在桌面放了一张 <code>test.jpg</code>，那么访问时直接用 <code>im = Image.open('test.jpg')</code> 就可以打开了，无须使用完整的路径，也即 <code>im = Image.open('C:/Users/Administrator/Desktop/test.jpg')</code>。</p>
<p>注意Python中<strong>路径字符串里斜杠的使用</strong>， 如果<strong>使用反斜杠划分就必须转义</strong>，也即写作双反斜杠 <code>\\</code>；如果<strong>使用左斜杠 <code>/</code> 则不需要进行转义</strong>。Python默认路径字符串都使用双反斜杠。</p>
<p>如果文件不在当前工作路径，那么我们写路径时可以有两种写法：</p>
<ul>
<li>使用<strong>绝对路径</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">im = Image.<span class="built_in">open</span>(<span class="string">&#x27;C:/Users/Administrator/Desktop/test.jpg&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>这里使用了左斜杠，所以不需要转义。</p>
<ul>
<li>使用<strong>相对路径</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">im = Image.<span class="built_in">open</span>(<span class="string">&#x27;./test.jpg&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>相对路径即相对当前工作路径而言的路径，这是为了避免路径过长而设计的，可以<strong>用 <code>.</code> 符来代替当前工作路径</strong>。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>模块</p><p><a href="https://hunlp.com/posts/60268.html">https://hunlp.com/posts/60268.html</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>ฅ´ω`ฅ</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2017-06-20</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-06-08</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><hr style="height:1px;margin:1rem 0"><div class="level is-mobile is-flex"><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted" rel="tag" href="/tags/%E7%AC%94%E8%AE%B0/">笔记 </a></div></div><div class="bdsharebuttonbox"><a class="bds_more" href="#" data-cmd="more"></a><a class="bds_qzone" href="#" data-cmd="qzone" title="分享到QQ空间"></a><a class="bds_tsina" href="#" data-cmd="tsina" title="分享到新浪微博"></a><a class="bds_tqq" href="#" data-cmd="tqq" title="分享到腾讯微博"></a><a class="bds_renren" href="#" data-cmd="renren" title="分享到人人网"></a><a class="bds_weixin" href="#" data-cmd="weixin" title="分享到微信"></a></div><script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "2", "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/zfb.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wx.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/31432.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">面向对象编程</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/62985.html"><span class="level-item">函数式编程</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "1e489bb00d4fa4c4258198aaea8e522d",
            repo: "Cartride.github.io",
            owner: "Cartride",
            clientID: "8f4a2426c347380a6ee4",
            clientSecret: "8dc8cd44b071426b35d0bd60634941371170b798",
            admin: ["Cartride"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#使用模块的几个好处"><span class="level-left"><span class="level-item">1</span><span class="level-item">使用模块的几个好处</span></span></a></li><li><a class="level is-mobile" href="#模块名和包名"><span class="level-left"><span class="level-item">2</span><span class="level-item">模块名和包名</span></span></a></li><li><a class="level is-mobile" href="#使用模块"><span class="level-left"><span class="level-item">3</span><span class="level-item">使用模块</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#例子解析"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">例子解析</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#python模块的标准文件模板"><span class="level-left"><span class="level-item">3.1.1</span><span class="level-item">Python模块的标准文件模板</span></span></a></li><li><a class="level is-mobile" href="#正式代码部分"><span class="level-left"><span class="level-item">3.1.2</span><span class="level-item">正式代码部分</span></span></a></li><li><a class="level is-mobile" href="#在命令行下执行"><span class="level-left"><span class="level-item">3.1.3</span><span class="level-item">在命令行下执行</span></span></a></li><li><a class="level is-mobile" href="#在交互环境下执行"><span class="level-left"><span class="level-item">3.1.4</span><span class="level-item">在交互环境下执行</span></span></a></li></ul></li><li><a class="level is-mobile" href="#命名规范和作用域"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">命名规范和作用域</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#公开public的变量和函数"><span class="level-left"><span class="level-item">3.2.1</span><span class="level-item">公开(public)的变量和函数</span></span></a></li><li><a class="level is-mobile" href="#私有private的变量和函数"><span class="level-left"><span class="level-item">3.2.2</span><span class="level-item">私有(private)的变量和函数</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#安装第三方库"><span class="level-left"><span class="level-item">4</span><span class="level-item">安装第三方库</span></span></a></li><li><a class="level is-mobile" href="#模块搜索路径"><span class="level-left"><span class="level-item">5</span><span class="level-item">模块搜索路径</span></span></a></li><li><a class="level is-mobile" href="#文件搜索路径"><span class="level-left"><span class="level-item">6</span><span class="level-item">文件搜索路径</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="MCFON" height="28"></a><p class="is-size-7"><span>&copy; 2021 ฅ´ω`ฅ</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>